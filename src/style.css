/*
  Modern CSS Reset
  A practical baseline for better web development
*/

/* More intuitive box-sizing model */
*,
*::before,
*::after {
  box-sizing: border-box;
}

/* Remove default margin */
* {
  margin: 0;
}

/* Enable keyword animations */
html {
  interpolate-size: allow-keywords;
}

/* Prevent scroll when mobile menu is open */
body.prevent-scroll {
  overflow: hidden;
}

body {
  /* Add accessible line-height */
  line-height: 1.5;
  /* Improve text rendering */
  -webkit-font-smoothing: antialiased;
}

/* Improve media defaults */
img,
picture,
video,
canvas,
svg {
  display: block;
  max-width: 100%;
  height: auto;
}

/* Inherit fonts for form controls */
input,
button,
textarea,
select {
  font: inherit;
}

/* Avoid text overflows */
p,
h1,
h2,
h3,
h4,
h5,
h6 {
  overflow-wrap: break-word;
}

/* Improve line wrapping */
p {
  text-wrap: pretty;
}

h1,
h2,
h3,
h4,
h5,
h6 {
  text-wrap: balance;
}

/* Remove list bullets and indent if is driven by a class */
ul[class],
ol[class] {
  list-style: none;
  padding-left: 0;
}

/* Remove default link styles if is driven by a class */
a[class] {
  text-decoration: none;
}

/* Make links inherit color */
a {
  color: inherit;
  text-underline-offset: 2px;

  &:hover {
    text-decoration: none;
  }
}

/* Buttons */
button {
  cursor: pointer;
  background-color: transparent;
  border: none;
  padding: 0;
  margin: 0;
  font-size: inherit;
  font-weight: inherit;
  color: inherit;
}

/* Prevent empty elements to create empty lines */
:empty:where(p, h1, h2, h3, h4, h5, h6) {
  display: none;
}

/* Reduce motion for accessibility reasons */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/*
  Token variables
*/

:root {
  /* Colors */
  --color-base: #fff;
  --color-contrast: #2f281e;
  --color-contrast-700: #544837;
  --color-contrast-500: #567592;
  --color-contrast-300: #bcd0e5;
  --color-contrast-100: #efefef;
  --color-accent-1: #ff9900;
  --color-accent-1-contrast: #fff;
  --color-accent-2: #7752be;
  --color-accent-2-contrast: #fff;
  --color-accent-3: #f03e3d;
  --color-accent-3-contrast: #fff;
  --color-accent-4: #4dadf7;
  --color-accent-4-contrast: #fff;

  /* Fonts */
  --font-family-base: "Poppins", sans-serif;
  --font-family-primary: var(--font-family-base);
  --font-weight-regular: 400;
  --font-weight-medium: 500;
  --font-weight-bold: 700;

  /* Responsive font sizes */
  --font-size-base: 1rem; /* 16px */
  --font-size-xs: 0.75rem; /* 12px */
  --font-size-sm: 0.875rem; /* 14px */
  --font-size-md: clamp(1.125rem, 0.8226rem + 0.9677vw, 1.25rem); /* 20px */
  --font-size-lg: clamp(1.375rem, 0.6694rem + 2.2581vw, 2rem); /* 32px */
  --font-size-xl: clamp(1.725rem, 0.8984rem + 2.6452vw, 2.5rem); /* 40px */

  /* Container widths */
  --container-width: 70rem;
  --container-width-full: 100%;
  --container-width-narrow: 35rem;

  /* Responsive spacings */
  --spacing-base: 1rem;
  --spacing-xs: 0.25rem; /* 4px - garde fixe */
  --spacing-sm: 0.5rem; /* 8px - garde fixe */
  --spacing-md: clamp(
    0.75rem,
    0.5rem + 1.25vw,
    1rem
  ); /* 12px mobile → 16px desktop */
  --spacing-lg: clamp(
    1.25rem,
    0.75rem + 2.5vw,
    2rem
  ); /* 20px mobile → 32px desktop */
  --spacing-xl: clamp(
    2rem,
    1.25rem + 3.75vw,
    4rem
  ); /* 32px mobile → 64px desktop */
  --spacing-xxl: clamp(
    3rem,
    1.875rem + 4.5vw,
    6rem
  ); /* 48px mobile → 96px desktop */

  /* Border radius */
  --border-radius-base: 0.25rem;
  --border-radius-lg: 1.1875rem;
  --border-radius-full: 624.9375rem;

  /* Shadows for elevations */
  --shadow-base: 0 0.125rem 0.9375rem 0 rgba(23, 58, 86, 0.1);

  /* Transitions */
  --transition-base: all 0.3s ease;
}

/*
  Fonts
*/

/* poppins-regular - latin */
@font-face {
  font-display: swap;
  font-family: "Poppins";
  font-style: normal;
  font-weight: 400;
  src: url("/fonts/poppins-v23-latin-regular.woff2") format("woff2");
}
/* poppins-500 - latin */
@font-face {
  font-display: swap;
  font-family: "Poppins";
  font-style: normal;
  font-weight: 500;
  src: url("/fonts/poppins-v23-latin-500.woff2") format("woff2");
}
/* poppins-700 - latin */
@font-face {
  font-display: swap;
  font-family: "Poppins";
  font-style: normal;
  font-weight: 700;
  src: url("/fonts/poppins-v23-latin-700.woff2") format("woff2");
}

/*
  Base elements
*/

*:focus-visible {
  outline: 2px solid var(--color-accent-1);
  outline-offset: 2px;
  border-radius: var(--border-radius-base);
}

/* Text */
body {
  font-family: var(--font-family-base);
  font-weight: var(--font-weight-regular);
  font-size: var(--font-size-base);
  color: var(--color-contrast);
}

h1,
h2,
h3,
h4,
h5,
h6 {
  font-weight: var(--font-weight-bold);
  line-height: 1.2;
}

/* Lists */
dt {
  font-weight: var(--font-weight-bold);
  margin-block-end: var(--spacing-xs);
}

dd {
  margin-block-end: var(--spacing-lg);
}

/* Forms */
input {
  width: 100%;
  border: 1px solid var(--color-contrast-100);
  border-radius: var(--border-radius-base);
  padding: var(--spacing-sm) var(--spacing-base);
  margin-block-end: var(--spacing-md);
}

input:focus-visible {
  outline: 2px solid var(--color-accent-1);
  outline-offset: 2px;
}

/*
  Components
*/

/* Navigation */
.nav-items {
  gap: var(--spacing-md);
}

.nav-list {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-xs);
}

.nav-link {
  &:hover {
    text-decoration: underline;
  }
}

/* Buttons */
.button-group {
  display: flex;
  flex-wrap: wrap;
  gap: var(--spacing-xs);
  align-items: center;

  &.is-direction-column {
    flex-direction: column;
  }
}

/* Button */
.button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-base) var(--spacing-lg);
  border-radius: var(--border-radius-base);
  background-color: var(--color-accent-1);
  color: var(--color-accent-1-contrast);
  font-weight: var(--font-weight-bold);
}

.button.is-style-outline {
  background-color: transparent;
  border: 1px solid var(--color-contrast-300);
  color: var(--color-contrast);
}

.button.is-style-hollow {
  background-color: transparent;
  border: none;
}

.button.is-style-link {
  background-color: transparent;
  border: none;
}

/* Columns */
.columns {
  display: flex;
  flex-wrap: wrap;
  align-items: center; /* Default value */
  gap: var(--spacing-md);
}

.column {
  flex: 1;
}

/* List */
.list.is-style-checkmark {
  list-style: none;
  padding-left: 0;
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

.list.is-style-checkmark li {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
}

.list.is-style-checkmark li::before {
  content: "";
  flex-shrink: 0;
  display: inline-block;
  width: 2em;
  height: 2em;
  mask-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='35' height='35' viewBox='0 0 35 35' fill='none'><path d='M21.1455 0C28.797 0 35 6.20305 35 13.8545V21.1455C35 28.797 28.797 35 21.1455 35H13.8545C6.20305 35 0 28.797 0 21.1455V13.8545C0 6.20305 6.20305 0 13.8545 0H21.1455ZM25.7656 12.2393C25.4533 11.9203 24.9472 11.9204 24.6348 12.2393L15.0498 22.0273L11.3652 18.2656C11.0528 17.9466 10.5468 17.9466 10.2344 18.2656C9.9221 18.5847 9.92199 19.1019 10.2344 19.4209L14.4844 23.7607C14.7967 24.0797 15.3031 24.0794 15.6152 23.7607L25.7656 13.3945C26.078 13.0755 26.078 12.5583 25.7656 12.2393Z' fill='%23FF9900'/></svg>");
  mask-size: contain;
  mask-repeat: no-repeat;
  mask-position: center;
  background-color: var(--color-accent-1);
}

/* Burger menu */

.mobile-menu-toggle {
  color: inherit;

  @media (width >= 768px) {
    display: none;
  }
}

.mobile-menu-toggle svg path {
  transform-origin: 50% 8px;
  transition:
    stroke 0.3s ease-in-out,
    fill 0.3s ease-in-out;
}

/* Closed menu */
.mobile-menu-toggle svg path:nth-of-type(1) {
  animation: hamburgerTopReset 300ms ease-in-out forwards;
}

.mobile-menu-toggle svg path:nth-of-type(2) {
  transform-origin: 50% 15px;
  animation: hamburgerMiddleReset 300ms ease-in-out forwards;
}

.mobile-menu-toggle svg path:nth-of-type(3) {
  transform-origin: 50% 22px;
  animation: hamburgerBottomReset 300ms ease-in-out forwards;
}

/* Open menu */
.mobile-menu-toggle[aria-expanded="true"] svg path:nth-of-type(1) {
  animation: hamburgerTopDeform 300ms ease-in-out forwards;
}
.mobile-menu-toggle[aria-expanded="true"] svg path:nth-of-type(2) {
  animation: hamburgerMiddleDeform 300ms ease-in-out forwards;
}
.mobile-menu-toggle[aria-expanded="true"] svg path:nth-of-type(3) {
  animation: hamburgerBottomDeform 300ms ease-in-out forwards;
}

/* Menu animations */
@keyframes hamburgerTopReset {
  0% {
    transform: translateY(7px) rotate(45deg);
  }
  50% {
    transform: translateY(7px) rotate(0deg);
  }
  100% {
    transform: translateY(0) rotate(0deg);
  }
}

@keyframes hamburgerMiddleReset {
  0% {
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
  100% {
    opacity: 1;
  }
}

@keyframes hamburgerBottomReset {
  0% {
    transform: translateY(-7px) rotate(-45deg);
  }
  50% {
    transform: translateY(-7px) rotate(0deg);
  }
  100% {
    transform: translateY(0) rotate(0deg);
  }
}

@keyframes hamburgerTopDeform {
  0% {
    transform: translateY(0) rotate(0deg);
  }
  50% {
    transform: translateY(7px) rotate(0deg);
  }
  100% {
    transform: translateY(7px) rotate(45deg);
  }
}

@keyframes hamburgerMiddleDeform {
  0% {
    opacity: 1;
  }
  50% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}

@keyframes hamburgerBottomDeform {
  0% {
    transform: translateY(0) rotate(0deg);
  }
  50% {
    transform: translateY(-7px) rotate(0deg);
  }
  100% {
    transform: translateY(-7px) rotate(-45deg);
  }
}

.features-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(12rem, 1fr));
  gap: var(--spacing-xl);
  width: 100%;

  @media (width < 1052px) {
    grid-template-columns: repeat(auto-fill, minmax(18rem, 1fr));
  }
}

/*
  Layout
*/

/* Header */
.site-header {
  position: relative;
  padding-block: var(--spacing-md);
}

.site-header .nav-container {
  gap: var(--spacing-lg);
}

.site-header .nav-cta {
  gap: var(--spacing-sm);
}

.site-header .button {
  padding: var(--spacing-xs) var(--spacing-base);
}

@media (width < 768px) {
  .site-header .nav-container {
    position: absolute;
    top: 100%;
    inset-inline: var(--spacing-md);
    width: calc(100% - var(--spacing-md) * 2);
    background-color: var(--color-base);
    padding: var(--spacing-md);
    border-radius: var(--border-radius-base);
    box-shadow: var(--shadow-base);
    transition: var(--transition-base);
    &[aria-hidden="true"] {
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
    }
  }

  .site-header .nav-container,
  .site-header .nav-items {
    flex-direction: column;
    align-items: start;
    gap: var(--spacing-md);
  }
}

/* Footer */
.site-footer .columns {
  margin-block-start: var(--spacing-xl);
  padding-block: var(--spacing-xl);
  border-block-start: 1px solid var(--color-contrast-100);
  gap: var(--spacing-xl);
  justify-content: space-between;
}

.site-footer .footer-nav {
  gap: var(--spacing-xl);

  & > * {
    flex: 1;
  }
}

.site-footer h3 {
  margin-block-end: var(--spacing-md);
}

/* Content */
.site-content > * {
  padding-block: var(--spacing-xl);
}

.section-needs-hero {
  padding-block: calc(var(--spacing-xxl) * 1.5) calc(var(--spacing-xxl) * 2.25);
}

.floating-element {
  position: relative;
}

@media (width >= 768px) {
  .floating-element {
    position: absolute;
  }

  .floating-element-content {
    position: relative;

    & > img {
      width: 6rem;
      height: 6rem;
      object-fit: cover;
      border-radius: var(--border-radius-full);
    }

    & > p {
      position: absolute;
      top: -25%;
      left: 70%;
      width: max-content;
      text-align: center;
      border-radius: var(--border-radius-full);
      background-color: var(--color-base);
      padding: var(--spacing-sm) var(--spacing-base);
      box-shadow: var(--shadow-base);
      max-width: max-content;
    }
  }
}

.section-needs-hero .floating-element.element-1 {
  top: 20%;
  left: 0;
}

.section-needs-hero .floating-element.element-2 {
  bottom: 20%;
  right: 0;

  > .floating-element-content > p {
    left: auto;
    right: 70%;
  }
}

.section-needs-hero .floating-element.element-3 {
  top: 10%;
  right: 10%;

  > .floating-element-content > p {
    left: auto;
    right: 70%;
  }
}

.section-needs-hero .floating-element.element-4 {
  bottom: 0;
  right: 30%;

  > .floating-element-content > p {
    left: auto;
    right: 70%;
  }
}

.section-needs-hero .floating-element.element-5 {
  bottom: 15%;
  left: 20%;

  > .floating-element-content > p {
    left: auto;
    right: 70%;
  }
}

/* 
  Utilities 
*/

/* Constrained layout */
.is-layout-constrained > * {
  width: min(var(--container-width), 90%);
  margin-inline: auto;
}

.container-width-narrow {
  width: min(var(--container-width-narrow), 90%);
}

/* Flex layout */
.is-layout-flex {
  display: flex;
  flex-wrap: wrap;
  align-items: center; /* Default value */

  &.is-direction-column {
    flex-direction: column;
  }
}

.is-desktop-reverse {
  @media (width >= 768px) {
    flex-direction: row-reverse;
  }
}

.is-stacked {
  flex-direction: column;
}

/* Mobile stacked layout */
.is-mobile-stacked {
  @media (width < 768px) {
    flex-direction: column;
  }
}

/* Align items */
.is-align-start {
  align-items: start;
}

.is-align-end {
  align-items: end;
}

.is-align-center {
  align-items: center;
}

.is-align-stretch {
  align-items: stretch;
}

.is-align-baseline {
  align-items: baseline;
}

/* Justify content */
.is-justify-start {
  justify-content: start;
}

.is-justify-center {
  justify-content: center;
}

.is-justify-end {
  justify-content: end;
}

.is-justify-between {
  justify-content: space-between;
}

.is-justify-around {
  justify-content: space-around;
}

.is-justify-evenly {
  justify-content: space-evenly;
}

/* Gap */
.gap-xs {
  gap: var(--spacing-xs);
}
.gap-sm {
  gap: var(--spacing-sm);
}
.gap-md {
  gap: var(--spacing-md);
}
.gap-lg {
  gap: var(--spacing-lg);
}
.gap-xl {
  gap: var(--spacing-xl);
}
.gap-xxl {
  gap: var(--spacing-xxl);
}

/* Text align */
.text-center {
  text-align: center;
}

.text-start {
  text-align: start;
}

.text-end {
  text-align: end;
}

/* Font size */
.text-xs {
  font-size: var(--font-size-xs);
}

.text-sm {
  font-size: var(--font-size-sm);
}

.text-md {
  font-size: var(--font-size-md);
}

.text-lg {
  font-size: var(--font-size-lg);
}

.text-xl {
  font-size: var(--font-size-xl);
}

/* Font weight */
.font-bold {
  font-weight: var(--font-weight-bold);
}

.font-medium {
  font-weight: var(--font-weight-medium);
}

/* Background color */
.has-accent-1-background-color {
  background-color: var(--color-accent-1);
}

.has-accent-2-background-color {
  background-color: var(--color-accent-2);
}

.has-accent-3-background-color {
  background-color: var(--color-accent-3);
}

.has-accent-4-background-color {
  background-color: var(--color-accent-4);
}

/* Background gradient */
.has-bg-ellipse-gradient {
  position: relative;
  isolation: isolate;
  overflow: hidden;
}
.has-bg-ellipse-gradient::after {
  content: "";
  position: absolute;
  z-index: -1;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(to top, #ffffff, #ffeede);
  clip-path: ellipse(75% 100% at 50% 100%);
}

.has-bg-ellipse-gradient-reverse {
  position: relative;
  isolation: isolate;
  overflow: hidden;
}
.has-bg-ellipse-gradient-reverse::after {
  content: "";
  position: absolute;
  z-index: -1;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(to bottom, #ffffff, #ffeede);
  clip-path: ellipse(75% 100% at 50% 0%);
}

/* Text color */
.has-accent-1-text-color {
  color: var(--color-accent-1);
}

.has-accent-2-text-color {
  color: var(--color-accent-2);
}

.has-accent-3-text-color {
  color: var(--color-accent-3);
}

.has-accent-4-text-color {
  color: var(--color-accent-4);
}

.has-contrast-300-text-color {
  color: var(--color-contrast-300);
}

.has-contrast-500-text-color {
  color: var(--color-contrast-500);
}

.has-contrast-700-text-color {
  color: var(--color-contrast-700);
}

/* Position */
.relative {
  position: relative;
}

/* 
  Accessibility 
*/

.visually-hidden:not(:focus):not(:active) {
  clip: rect(0 0 0 0);
  clip-path: inset(50%);
  height: 1px;
  width: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
}

.skip-link {
  position: absolute;
  top: var(--spacing-md);
  left: var(--spacing-md);
  transform: translateY(-100vh);
  transition: var(--transition-base);
  padding: var(--spacing-xs) var(--spacing-base);
  background-color: var(--color-accent-1);
  color: var(--color-accent-1-contrast);
}

.skip-link:focus-visible {
  transform: translateY(0);
  z-index: 100;
}
